<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Mobile Widgets</title>
	<link rel="stylesheet" href="style/style.css" />
	<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
	<script type="text/javascript" src="js/StructureElts.js"></script>
	<script type="text/javascript" src="js/Structure.js"></script>
	<script type="text/javascript" src="js/DocElements.js"></script>
</head>

<body>

<script type="text/javascript">
<!--
idCurrentPage = "widgets_sdk_manual";
beginPage();
//-->
</script>




<h1 class="title">Mobile Widgets SDK manual</h1>

<script type="text/javascript">
<!--
addIndex();
//-->
</script>




<script type="text/javascript">addTitle("Introduction", 1);</script>

<p>
This part aims to describe the <b>Mobile Widget SDK Plug-in</b>. This plug-in, once
integrated in the Eclipse platform, provides tools for Mobile Widgets creation,
compilation, export and emulation.
</p>

<p>
The following points will be detailed:
</p>
<ul>
<li>Creation of a Mobile Widget,</li>
<li>Project Preferences,</li>
<li>Running a Mobile Widget,</li>
<li>Exporting a Mobile Widget. </li>
</ul>
<br/>

<script type="text/javascript">addTitle("Prerequisites", 1);</script>

<p>
Before you install the plug-in, make sure that your development environment fits
the following requirements:
</p>
<ul>
<li>Java 1.5 or higher is installed. It must be a Java Development Kit (JDK),
    and can be downloaded here: <a href="http://java.sun.com/javase/downloads/index.jsp" target="_blank">http://java.sun.com/javase/downloads/index.jsp</a><br/>
    See <a href="installation_java.html">Java installation part</a>.</li>
<li>The version 3.5 of Eclipse is used. It can be downloaded here:
    <a href="http://www.eclipse.org/downloads/" target="_blank">http://www.eclipse.org/downloads/</a>.
    The folder tree where Eclipse is installed must not contain white spaces.<br/>
    See <a href="installation_eclipse.html">Eclipse installation part</a>.</li>
<li>Perl 5.10.0 is installed (optional: used for documentation generation only).
    It can be downloaded here: <a href="http://www.perl.com/download.csp" target="_blank">http://www.perl.com/download.csp</a>.</li>
</ul>
<br/>


<script type="text/javascript">addTitle("Mobile Widget Creation", 1);</script>

<p>
There are two ways to create a new <b>Mobile Widget Project</b>:
</p>

<h2>From the Toolbar</h2>

<p>
Click on the <b>New Widget Project</b> icon on the Toolbar (marked in red):<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_01.jpg" />
</p>

<h2>From the New Project menu</h2>

<p>
Go to <b>File &gt; New &gt; Project</b> in the top menu bar. In the wizards list,
go into the <b>Mobile Widgets SDK</b> folder and select <b>Widget Project</b>,
then click on <b>Next</b>.<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_02.jpg" />
</p>




<h2>The New Mobile Widget Wizard</h2>

<p>
The new project wizard page is then displayed:<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_03.jpg" />
</p>

<h3>Widget Type</h3>

<p>
The Widget Type is defined here. As indicated on the wizard page:
</p>
<ul>
<li><b>Tiny Mobile Widgets</b> are generic widgets which can be deployed on the whole
    range of handsets, in both widget and standalone modes.</li> 
<li><b>Mobile Widgets</b> are also available in both widget and standalone modes. They
    allow backward compatibility and have less memory constraints than <b>Tiny
    Mobile Widgets</b>. As a result, they do not support low end handsets.</li>
</ul>
<br/>
	
<h3>Widget Configuration</h3>

<p>
First of all, the global parameters fields have to be filled in. Here is a short
description of these parameters:
</p>
<ul>
<li><b>Project name</b> (mandatory): The name of the project, as it will appear
    in the workspace.</li>
<li><b>Widget name</b> (mandatory): The name of the new created Mobile Widget.
    It must begin with an upper-case alphabetic character, and can contain any
    alphabetic character or decimal digit.</li>
<li><b>Widget version</b> (mandatory): The version number of the Mobile Widget.
    Default value: 1.0.0.</li>
<li><b>Widget description</b> (optional): a short description of the widget.</li>
<li><b>Widget category</b>: the widget category, selected in a list.</li>
</ul>
<br/>

<h3>VRML Model usage</h3>

<p>
The new Widget Project is built from an existing VRML model. These models are
functional and provide sample code. The VRML model to use is selected on the
second page of the wizard. A short description and a screenshot of the selected
item are displayed on the right.<br/>
When a model is selected, the Widget project creation is completed. You can
click on the <b>Finish</b> button.<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_04.jpg" />
</p>

<p>
A complete Widget Project is created. It is fully functional, and can be run
once created by using <b>Run As &gt; Mobile Widget</b>. Its sources can be used
as a starting point for another application, or just to provide code samples.
</p>

<h3>Widget Style</h3>

<p>
The third page of the creation wizard is optional.<br/>
The widget styles provide different pictures and allow the developer to
customize the widget design. By default, the style of the new widget will be the
style of the selected VRML model. However, this can be modified in this page.<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_05.jpg" />
</p>

<p>
An existing style can be used, or a new style can be created. A new style can be
derived from an existing style. A screenshot is displayed on this page, allowing
the developer to see how the selected style will look like.
</p>
<br/>

<h2>Project structure</h2>

<p>
A newly created project has the following structure:<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_06.jpg" />
</p>
<ul>
<li>The <b>doc</b> folder contains a screenshot of the widget.</li>
<li>The <b>exports</b> folder contains the files generated for different export
    configurations. Each export has its own subfolder.</li>
<li>The <b>i18n</b> folder contains languages files.</li>
<li>The <b>SDK</b> folder contains two symbolic links, to the protos and the
    styles bound to the selected widget type. It must not be modified (only by
    advanced users).</li>
<li>The <b>src</b> folder contains the project sources. All the project's source
    files must be saved in this folder.</li>
<li>The <b>styles</b> folder contains a subfolder named from the selected style
    (OWP in our case).</li>
<li>The <b>tmp</b> folder contains data generated during compilation.</li>
</ul>

<p>
Sometimes, a <b>README.txt</b> file is present. It contains a description of the
model as well as information that can be useful.
</p>

<p>
Depending on the selected widget type, the project icon in the Eclipse workspace
is different: orange if it is a Mobile Widget, cyan if it is a Tiny Mobile Widget.<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_07.jpg" />
</p>
<br/>

	
<script type="text/javascript">addTitle("Preferences", 1);</script>

<h2>Global preferences</h2>

<p>
In the top menu, go into <b>Window &gt; Preferences...</b> and select <b>Mobile
Widgets</b>. In this <b>Preferences</b> Page, you can configure the Perl path,
and the signing of Applets and MIDlets.
</p>

<p>
In order to generate the widgets documentation, you must provide the path where
Perl is installed. Specify the path in the <b>Perl bin directory</b> field. By
default, it is set to <b>C:\Perl\bin</b>.
</p>

<p>
In order to sign Applets and MIDlets, you must provide a keystore and other
data, as an alias, a storepass and a keypass. If the checkbox is checked and
correct data are entered in the different fields, the Applets and/or the MIDlets
will automatically be signed when created.<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_08.jpg" />
</p>
<br/>


<h2>Project preferences (Properties)</h2>

<p>
The project preferences page allows modifying the Widget version and the Widget
style after the project creation.<br/>
Right click on the Widget project and select <b>Properties</b>, then select
<b>Widget preferences</b>.<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_09.jpg" />
</p>

<p>
The version and the style of the selected project are displayed, and can be
modified. When the <b>OK</b> button is pressed, the modification are submitted
and taken in account by the project.
</p>
<br/>

<script type="text/javascript">addTitle("Running the Mobile Widget", 1);</script>

<p>
There are three different ways to run the Mobile Widget:
</p>
<ul>
<li>If you are used to the Eclipse environment, you can run the widget in a
    standard way, from the <b>Run Configurations</b> dialog.</li>
<li>If you are new to Eclipse, you can configure and launch the widget from the
    Toolbar.</li>
<li>For a quick launch with default configuration, you can use the <b>Run as...</b> menu.</li>
</ul>
<br/>

<h2>Run Configuration</h2>

<p>
On the top menu, click on <b>Run &gt; Open Run Dialog...</b>. The following window is displayed:<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_10.jpg" />
</p>

<p>
In the configurations list, choose <b>Mobile Widget Application</b>. You can
specify a name for this configuration, in the <b>Name</b> field. By default, it
will be named <b>New_configuration</b>. Select a project on which the
configuration will be applied by clicking on the <b>Browse...</b> button.
</p>

<p>
In the <b>Task</b> group, select <b>Compile and test</b>. The <b>Emulator</b>
group is enabled. There are three configuration items:
</p>
<ul>
<li><b>Clean</b>: check this box to clean the RMS entries on the emulator.</li>
<li><b>Current Language</b>: by clicking the <b>Select language</b> button on
    the right, you can choose one of the available languages in the project
    (from the i18n folder).</li>
<li><b>Current Resolution</b>: choose a resolution by clicking the <b>Select
    size</b> button.</li>
</ul>

<p>
Click on the <b>Apply</b> button to save your configuration, and then on the
<b>Run</b> button to launch it. The WRL sources are compiled for the current
language and resolution, and the emulator is launched.
</p>


<p class="note warning">
<b>Important:</b><br/>
If you are running a <b>Tiny Mobile Widget</b>, the <b>Project</b> group of the
<b>Run Configurations</b> page will look like this:<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_25.jpg" />
</p>

<p>
If you have modified the widget entry point, you must update this value for the
project to compile.
</p>

<p class="note info">
<b>Note:</b><br/>
In a <b>Tiny Mobile Widget Project</b>, the entry point <span class="highlight">cannot
be named</span> <b>main.wrl</b>, whereas in a <b>Mobile Widget Project</b>, the entry
point <span class="highlight">must always be named</span> <b>main.wrl</b>.
</p>
<br/>

<h2>Run from the Toolbar</h2>

<p>
The fourth button of the Toolbar allows configuring <b>Run and Export</b> for
the selected widget:<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_11.jpg" />
</p>

<p>
In the <b>Test with Emulator</b> group, you can choose to wipe data by checking
the box, and you can select the language and the resolution used when the
emulator is launched:<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_12.jpg" />
</p>

<p>
Once the setup is done, click on the <b>Finish</b> button to save it.
</p>



<p>
If you are configuring a <b>Tiny Mobile Project</b>, the Compile group will be
displayed:<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_26.jpg" />
</p>
<p>
If you have modified the widget entry point, you must update this value for the
project to compile.
</p>

<p class="note info">
<b>Note:</b><br/>
In a Tiny Mobile Widget Project, the entry point <span class="highlight">cannot
be named</span> <b>main.wrl</b>, whereas in a <b>Mobile Widget Project</b>, the entry
point <span class="highlight">must always be named</span> <b>main.wrl</b>.
</p>


<p>
This configuration will be used when the second button of the Toolbar is clicked:<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_13.jpg" />
</p>

<p>
Then, the emulator is launched.
</p>
<br/>

<h2>Launch shortcut</h2>

<p>
For convenience, a launch shortcut is provided. To access it, right click on a
Mobile Widget or a Tiny Mobile Project or on one of its elements, and select
<b>Run As &gt; Mobile Widget</b>.<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_14.jpg" />
</p>

<p>
This shortcut provides the following configuration:
</p>
<ul>
<li>It wipes the RMS data and runs the widget on the emulator.</li>
<li>The default language and the default resolution are the ones selected in the
    Toolbar configuration screen.</li>
</ul> 
<br/>


<script type="text/javascript">addTitle("Exporting the Mobile Widget", 1);</script>

<p>
There are three different ways to export the Mobile Widget:
</p>
<ul>
<li>If you are used to the Eclipse environment, you can export the widget from
    the <b>Run Configurations</b> dialog.</li>
<li>If you are new to Eclipse, you can export the widget from the Toolbar.</li>
<li>For quick single exports, you can use the context menu.</li>
</ul>
<br/>

<h2>Run Configuration</h2>

<p>
On the top menu, click on <b>Run &gt; Open Run Dialog...</b> to display the
<b>Run Configurations</b> dialog:<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_15.jpg" />
</p>

<p>
In the <b>Task</b> group, select <b>Export Widget</b>. The <b>Package</b> group
is enabled: select one or several packages to create.
</p>
<ul>
<li><b>Package Applet</b>: generate <b>JAR</b> files (in the exports/applet
    directory) and launch the applet in browser.</li>
<li><b>Package for Gallery</b>: create a package (in exports/gallery) that can
    be uploaded on <b>Djinngo Gallery</b>.</li>
<li><b>Package for Orange Widgets</b>: create a package (in exports/mmp) for
    <b>Orange Widgets</b>.</li>
<li><b>Package for AppShop</b>: create <b>JAR</b> and <b>JAD</b> files (in
    exports/midlet) that can be uploaded on <b>Orange AppShop</b>.</li>
<li><b>Package for Android Marketplace</b>: create a package for <b>Android</b>
    (in exports/android) that can be uploaded on <b>Android Marketplace</b> and
    on <b>Orange AppShop</b>.</li>
<li><b>Package for RIM AppWorld</b> (BlackBerry): create a package for
    <b>BlackBerry</b> (in exports/blackberry) that can be uploaded on <b>RIM App
    World</b> and on <b>Orange AppShop</b>.</li>
<li><b>Package for Ulight</b> (available only for Tiny Mobile Widgets): create a
    package (in exports/ulight) for <b>Ulight</b>.</li>
</ul>

<p>
Click on the <b>Apply</b> button to save your configuration, and then on the
<b>Run</b> button to launch the export task(s).
</p>

<p>
The Widget Project should contain a <b>screenshot.png</b> file, in a <b>doc/img</b>
folder. If this file does not exist, a warning is displayed when the <b>Package
for Gallery</b> task is selected:<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_16.jpg" />
</p>
<br/>


<h2>Export from the Toolbar</h2>

<p>
The fourth button of the Toolbar allows configuring <b>Export</b> for the
selected widget:<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_17.jpg" />
</p>

<p>
In the <b>Export</b> group, you can choose the packages to generate when the
export task is launched:<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_18.jpg" />
</p>

<p>
The <b>Package for Ulight</b> option is only available for Tiny Mobile Widgets.
Click on the <b>Finish</b> button to save the configuration.
</p>

<p>
Once the setup is done, click on the third button of the Toolbar to launch the
selected export tasks:<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_19.jpg" />
</p>
<br/>

<h2>Context Menu</h2>

<p>
The context menu can be accessed by right-clicking on the project (or on one of
its elements). It allows launching export tasks one by one:<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_20.jpg" />
</p>

<p>
The <b>Package for Ulight</b> option is only available for Tiny Mobile Widgets.<br/>
The <b>Export widget</b> option launches the packages tasks selected in the
<b>Toolbar configuration</b> screen.
</p>
<br/>

<script type="text/javascript">addTitle("Generating documentation", 1);</script>

<p>
Documentation in HTML can be generated from the comments present in the VRML
code of the widget.
</p>
<br/>

<h2>Run Configuration</h2>

<p>
On the top menu, click on <b>Run &gt; Open Run Dialog...</b> to display the Run
Configurations dialog:<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_21.jpg" />
</p>

<p>
In the <b>Task</b> group, select <b>Generate Documentation</b>, and click on the
<b>Run</b> button. The documentation is generated in the <b>doc</b> folder of
the project, and open in a web browser.
</p>
<br/>

<h2>Context Menu</h2>

<p>
The context menu can be accessed by right-clicking on the project (or on one of
its elements). Click on the <b>Generate documentation</b> item.<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_22.jpg" />
</p>

<p>
The documentation is generated in the <b>doc</b> folder of the project, and open
in a web browser.
</p>
<br/>

<script type="text/javascript">addTitle("Add/remove project nature", 1);</script>

<p>
A project obtained from repository check-out which contains all the mandatory
elements may not have the required <b>Mobile Widget</b> nature. In this case,
the options of the context menus, the <b>Run Configuration</b> and the Toolbar
are not available for the project. To convert such a project in a <b>Mobile
Widget</b> or a <b>Tiny Mobile Widget</b> project, use the Mobile Widgets SDK
Tools:<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_23.jpg" />
</p>

<p>
Once the project converted, the related actions become available, and the needed
symbolic links are created. The project nature is indicated by the following
icon:  for <b>Mobile Widget Project</b>,  for <b>Tiny Mobile Widget Project</b>.
</p>

<p>
If you convert a project that should not have been, the nature can always be
removed by using the context menu (last item):<br/>
<img alt="Widgets SDK Manual" src="images/widgets_sdk/user_manual_24.jpg" />
</p>
<br/>


<script type="text/javascript">addTitle("Annex 1 – Micro Emulator proxy configuration", 1);</script>

<p>
Add these two lines on your <b>Micro Emulator</b> configuration file:
</p>
<textarea rows="2" cols="80" readonly="readonly" wrap="off">
&lt;system-property VALUE="{your proxy host}" NAME="http.proxyHost"/&gt;
&lt;system-property VALUE="{your proxy name}" NAME="http.proxyPort"/&gt;
</textarea>
<br/>

<p>
The <b>Micro Emulator</b> configuration file is available here:
</p>
<ul>
<li>Windows OS: <b>C:\Documents and Settings\{user name}\.microemulator\config2.xml</b></li>
<li>Linux OS: <b>/home/{user name}/.microemulator/config2.xml</b></li>
</ul>
<br/>



<script type="text/javascript">
<!--
addBackPageNavigator ('widgets_development_sdk','widgets_development_vrml_editor');
//-->
</script>



<script type="text/javascript">
<!--
endPage();
//-->
</script>

</body>

</html>

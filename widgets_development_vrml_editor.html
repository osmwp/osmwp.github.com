<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Mobile Widgets</title>
	<link rel="stylesheet" href="style/style.css" />
	<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
	<script type="text/javascript" src="js/StructureElts.js"></script>
	<script type="text/javascript" src="js/Structure.js"></script>
	<script type="text/javascript" src="js/DocElements.js"></script>
</head>

<body>

<script type="text/javascript">
<!--
idCurrentPage = "widgets_development_vrml_editor";
beginPage();
//-->
</script>




<h1 class="title">VRML Editor - User Manual</h1>


<h1>Introduction</h1>
<p>
  This document aims to describe the Mobile Widgets SDK VRML Editor Plug-in. This plug-in, once integrated in the Eclipse platform, provides a complete VRML editor. The following functionalities are embedded in this plug-in:
  <ul>
    <li>Creation wizard,</li>
    <li>Syntax highlighting,</li>
    <li>Refactoring,</li>
    <li>Braces collapse,</li>
    <li>Automatic selection of areas enclosed by braces and square brackets,</li>
    <li>Associated braces and square brackets highlighting,</li>
    <li>Nodes and functions occurrences highlighting,</li>
    <li>Code formatting,</li>
    <li>Comment/Uncomment of the selected areas,</li>
    <li>Spell checking,</li>
    <li>Outline view of VRML objects and JavaScript functions,</li>
    <li>Completion,</li>
    <li>Automatic code and comments insertion,</li>
    <li>Preferences</li>
  </ul>
  All these functionalities will be detailed in the present document.
</p>


<h1>VRML Editor functionalities</h1>
<p>
  <p>
    The functionalities provided by the editor apply to .wrl files. They are detailed below.
  </p>
  
  <h2>Creation wizard</h2>
  <p>
    Each file with the .wrl extension can be open with the VRML Editor plug-in. When the plug-in is installed, these files are represented by the following icon: 
    <img alt="vrml file icon" src="./images/vrml_editor/image001.png" />
    <br/>
    A .wrl file can be created with the creation wizard included in the VRML Editor plug-in. In the New wizard, select VRML File in the General category:
    <br/>
    <img alt="new file wizard" src="./images/vrml_editor/image002.png" />
    <br/>
    Then choose a location and a name for the file (the extension does not need to be specified):
    <br/>
    <img alt="set file name" src="./images/vrml_editor/image003.png" />
    <br/>
    The newly created file is displayed, and contains a VRML header:
    <br/>
    <img alt="newly file created" src="./images/vrml_editor/image004.png" />
    <br/>
    A .wrl file can also be created with a simple File creation wizard, but in that case the extension will have to be specified, and the header will not be present:
    <br/>
    <img alt="new wrl file by extension" src="./images/vrml_editor/image005.png" />
    <br/>
    However, it is a valid .wrl file that has all the features of the VRML Editor.
  </p>
  
  <h2>Syntax highlighting</h2>
  <p>
    The VRML editor automatically provides a syntax highlighting, as shown below:
    <br/>
    <img alt="syntax highlighting" src="./images/vrml_editor/image011.png" />
    <br/>
    The syntax highlighting applies for VRML and JavaScript code.
  </p>
  
  <h2>Refactoring</h2>
  <p>
    If you select a VRML node name or a JavaScript function name and press Alt+Shift+R or reach Refactor > Rename... via the contextual menu, the Refactor window is displayed, providing the current item name:
    <br/>
    <img alt="Refactor Rename" src="./images/vrml_editor/image006.png" />
    <br/>
    If you enter a new name and press Finish, all the occurrences of the item are replaced by this new name:
    <br/>
    <img alt="occurrences replaced" src="./images/vrml_editor/image007.png" />
  </p>
  
  <h2>Braces collapse</h2>
  <p>
    The code blocks delimited by braces {} are signalled in the margin by a minus (-) sign:
    <br/>
    <img alt="not collapsed" src="./images/vrml_editor/image008.png" />
    <br/>
    When one of these minus signs is clicked, the corresponding block is collapsed. A plus (+) sign appears in the margin, allowing expanding the block:
    <br/>
    <img alt="collapsed" src="./images/vrml_editor/image009.png" />
  </p>
  
  <h2>Automatic selection of areas</h2>
  <p>
    The areas delimited by braces {} or square brackets [] can be automatically selected by double-clicking at the beginning of the block (just after the first bracket) or at the end (just before the closing bracket), as shown below:
    <br/>
    <img alt="Automatic selection" src="./images/vrml_editor/image010.png" />
  </p>
  
  <h2>Brackets highlighting</h2>
  <p>
    When the cursor is positioned just after a brace or a square bracket (opening or closing), the associated bracket is highlighted with a little pink rectangle:
    <br/>
    <img alt="Brackets highlighting" src="./images/vrml_editor/image012.png" />
  </p>
  
  <h2>Nodes and functions occurrences highlighting</h2>
  <p>
    When a node name or a function name is selected, all its occurrences in the current .wrl file are highlighted, and marks in the margin indicate where these occurrences are located:
    <br/>
    <img alt="occurrences highlighting" src="./images/vrml_editor/image013.png" />
  </p>
  
  <h2>Code formatting</h2>
  <p>
    <h3>Line automatic formatting</h3>
    <p>
      The line automatic formatting can be configured in the VRML Editor preferences (Window > Preferences > VRML Editor). By default, the option Line auto formatting when typing } activated is not checked. If you activate it, when a closing brace } is typed, the current line is automatically formatted. For example, the following line is typed:
      <br/>
      <img alt="line not formatted" src="./images/vrml_editor/image014.png" />
      <br/>
      A closing brace is added at the end of the line, and it is automatically formatted:
      <br/>
      <img alt="line formatted" src="./images/vrml_editor/image015.png" />
    </p>
    <h3>Code blocks formatting</h3>
    <p>
      Code formatting can also be applied to blocks of code, by selecting the code to format and using the context menu (right click, Source > Format), or using the associated key binding (CTRL+SHIFT+F). If no code is selected, the whole document is formatted. For example, this is the block of code to format:
      <br/>
      <img alt="block not formatted" src="./images/vrml_editor/image016.png" />
      <br/>
      This code is selected, and the formatting action is called by the context menu:
      <br/>
      <img alt="formatting contextual menu" src="./images/vrml_editor/image017.png" />
      <br/>
      The block of code is now well-formatted (indentation is correct, there are carriage returns after each bracket...):
      <br/>
      <img alt="block formatted" src="./images/vrml_editor/image018.png" />
    </p>
  </p>
  
  <h2>Comment/Uncomment</h2>
  <p>
    The VRML and JavaScript comment characters are different, but there is only one key binding to comment/uncomment code: CTRL+SHIFT+C.
    <h3>VRML</h3>
    <p>
      The comment character in VRML language is #. To comment some code, select one or several lines, or place the cursor in the line you want to comment:
      <br/>
      <img alt="select to comment VRML" src="./images/vrml_editor/image019.png" />
      <br/>
      When the code is selected, press simultaneously the CTRL+SHIFT+C keys: the selected lines are commented.
      <br/>
      <img alt="comment VRML" src="./images/vrml_editor/image020.png" />
      <br/>
      To uncomment the code, the keys combination is also CTRL+SHIFT+C:
      <br/>
      <img alt="uncomment VRML" src="./images/vrml_editor/image021.png" />
    </p>
    <h3>JavaScript</h3>
    <p>
      The comment character in JavaScript is //. To comment or uncomment a JavaScipt code block, press CTRL+SHIFT+C.
      <br/>
      <img alt="comment JavaScript" src="./images/vrml_editor/image022.png" />
    </p>
    <h3>Spell checking</h3>
    <p>
      When the Eclipse spell checking is activated (Window > Preferences > General > Editors > Text Editors > Spelling), the errors present in comments (VRML and JavaScript) are underlined:
      <br/>
      <img alt="spell checking on" src="./images/vrml_editor/image023.png" />
      <br/>
      If the error is fixed, the editor is updated and the word is no longer underlined:
      <br/>
      <img alt="spell checking off" src="./images/vrml_editor/image024.png" />
    </p>
  </p>
  
  <h2>Outline view</h2>
  <p>
    The VRML Editor provides an outline view which shows the Protos contained in the file, and all the VRML objects defined in these Protos, as well as the JavaScript functions. When the VRML nodes or the JavaScript functions are not explicitly defined in a Proto, they are displayed under a Proto object whose name is the same as the file name.
    <br/>
    <img alt="Outline" src="./images/vrml_editor/image025.png" />
    <br/>
    This outline view allows reaching easily the Protos, the VRML objects and the JavaScript functions, just by clicking on their names. By default, the items (Protos, node definitions and JavaScript functions) are displayed by order of appearance in the file. They can be sorted alphabetically with the "a z" button on the outline menu bar.
    <br/>
    <img alt="Outline sorted" src="./images/vrml_editor/image026.png" />
    <br/>
    Items can also be hidden by type (VRML node definition or JavaScript function), by selecting the appropriate button in the outline menu bar:
    <br/>
    <img alt="Outline hidden" src="./images/vrml_editor/image027.png" />
  </p>
  
  <h2>Completion</h2>
  <p>
    The VRML Editor provides completion for VRML objects and for JavaScript functions. It is called by pressing simultaneously the CTRL+SPACE keys.
    <h3>VRML attributes proposition</h3>
    <p>
      In a VRML object declaration, the completion can be called on order to display the arguments of the object:
      <br/>
      <img alt="VRML attributes proposition" src="./images/vrml_editor/image028.png" />
    </p>
    <h3>VRML Objects</h3>
    <p>
      When a VRML object is defined in the current wrl file (by using DEF), completion is activated for this object. To use completion, write the object's name (SCRIPT in our example), followed by a dot. A list of available propositions is displayed.
      <br/>
      <img alt="VRML Objects" src="./images/vrml_editor/image029.png" />
    </p>
    <h3>JavaScript functions</h3>
    <p>
      The functions available in JavaScript can be displayed and selected the same way, with an additional help (in the yellow box):
      <br/>
      <img alt="JavaScript functions" src="./images/vrml_editor/image030.png" />
      <br/>
      Moreover, completion proposals also appear when no word has been typed, within a function:
      <br/>
      <img alt="JavaScript functions typed" src="./images/vrml_editor/image031.png" />
      <br/>
      When this list is displayed, typing one or several letters will reduce it to the appropriate entries:
      <br/>
      <img alt="JavaScript functions appropriate" src="./images/vrml_editor/image032.png" />
    </p>
    <h3>Function template</h3>
    <p>
      When the completion is called within a script but outside JavaScript functions, a template function is created with a generic name:
      <br/>
      <img alt="Function template" src="./images/vrml_editor/image033.png" />
    </p>
  </p>
  
  <h2>Code and comments auto-insertion</h2>
  <p>
    The VRML Editor provides some code and comments auto-insertion functionalities.
    <h3>Code auto-insertion</h3>
    <p>
      The word Script followed by the Enter key is recognized by the editor, and the following code block is inserted:
      <br/>
      <img alt="Code auto-insertion" src="./images/vrml_editor/image034.png" />
    </p>
    <h3>Comments auto-insertion</h3>
    <p>
      Comments are inserted automatically in three cases:
      <ul>
        <li>
          <b>At the root node</b>
          <br/>          
          Before a root node, type a comment character (#) and then hit the Enter key:
          <br/>
          <img alt="At the root node" src="./images/vrml_editor/image035.png" />
          <br/>
          Comments are inserted before the node name:
          <br/>
          <img alt="At the root node inserted" src="./images/vrml_editor/image036.png" />
        </li>
        <li>
          <b>Before a VRML node</b>
          <br/>
          Type a comment character (#) before a node definition, then type Enter:
          <br/>          
          <img alt="Before a VRML node" src="./images/vrml_editor/image037.png" />
        </li>
        <li>
          <b>Before a JavaScript function</b>
          <br/>
          Type a JavaScript comment character (//) before a JavaScript function and then type Enter:
          <br/>          
          <img alt="Before a JavaScript function" src="./images/vrml_editor/image038.png" />
        </li>
      </ul>
    </p>
  </p>
  
  
  <h2>Generate field SFNodes within scripts</h2>
  <p>
    The VRML Editor offers the possibility to automatically generate the "field SFNode" line for each node present in the document. This action can be called by pressing simultaneously the CTRL+SHIFT+S keys, or through the contextual menu Source > Generate Script SFNode fields. This option is very practical in cases of huge VRML files, because it avoids the user to search through the file which nodes exist and which ones have not yet been used in scripts.
    <br/>
    In this document, the MY_TIMER node has not been used in the SCRIPT script:
    <br/>
    <img alt="Generate field" src="./images/vrml_editor/image039.png" />
    <br/>
    Access the contextual menu:
    <br/>
    <img alt="Generate field contextual" src="./images/vrml_editor/image040.png" />
    <br/>
    A wizard containing only the nodes that have not been used in scripts is displayed. Use the checkboxes to indicate which SFNode fields have to be generated:
    <br/>
    <img alt="Generate field wizard" src="./images/vrml_editor/image041.png" />
    <br/>
    Click Finish, and the selected nodes are added at the beginning of the script:
    <br/>
    <img alt="Generate field end" src="./images/vrml_editor/image042.png" />
    <br/>
    The field name is the node name in lowercase. Underscores are removed, and the letter that follows them is in uppercase.
  </p>
  
  <h2>Preferences</h2>
  <p>
    By default, the character used for auto-indentation (when the text is formatted) is two spaces. This character can be modified in the Preferences menu (Window > Preferences > VRML Editor):
    <br/>
    <img alt="Preferences" src="./images/vrml_editor/image043.png" />
    <br/>
    The VRML Editor Preferences page also allows enabling or disabling the line auto formatting.
  </p>
  
  

</p>


<script type="text/javascript">
<!--
addBackPageNavigator ('widgets_sdk_manual','widgets_development_languages');
//-->
</script>




<script type="text/javascript">
<!--
endPage();
//-->
</script>

</body>

</html>
